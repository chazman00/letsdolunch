<!DOCTYPE html>
<html>
<head>
  <meta charset="utf8">
  <title>Contacts</title>

  <link rel="stylesheet" href="stylesheets/bootstrap.css" />
  <link rel="stylesheet" href="stylesheets/style.css" />
  <link rel="stylesheet" href="stylesheets/jquery.mobile-1.3.2.min.css" />


  <script src="javascripts/onerror.js"></script>
  <script src="javascripts/console.log.js"></script>
  
  <script type="text/javascript" src="javascripts/jquery.mobile-1.3.2.min.js"></script>
  <script type="text/javascript" src="http://static.stackmob.com/js/stackmob-js-0.9.2-bundled-min.js"></script>
  <!-- cordova.js is served from localhost to ensure the correct version -->
  <script src="http://localhost/appgyver/cordova.js"></script>
  <script src="components/steroids-js/steroids.js"></script>

  <script src="javascripts/application.js"></script>

  <script type="text/javascript" charset="utf-8">
    /*
	steroids.view.navigationBar.show("Add Contacts");
	var navBarVisible = true;
	
	var cancelButton = new steroids.buttons.NavigationBarButton();
	cancelButton.title = "Cancel";
	
	cancelButton.onTap = function() {
	  window.location = "index.html";
	};
	
	steroids.view.navigationBar.setButtons({
	  left: [cancelButton]
	});
  */
  
    // Wait for Cordova to load
    //
    document.addEventListener("deviceready", onDeviceReady, false);	

		$(document).ready( function() {
			$( "#autocomplete" ).on( "listviewbeforefilter", function ( e, data ) {
				var $ul = $( this ),
					$input = $( data.input ),
					value = $input.val(),
					html = "";
				$ul.html( "" );
				if ( value && value.length > 2 ) {
					var options = new ContactFindOptions();
					options.filter=value; 
					options.multiple=true;
					var fields = ["displayName", "name", "nickname", "emails"];
					navigator.contacts.find(fields, onContactSuccess, onContactError, options);

				}
			});
		});
    
   </script>
</head>
<body  id="htmlBody">
	<h3>Find Contacts</h3>
	<div id="contactsSearch">		
			<div data-demo-html="true">
				<ul id="autocomplete" data-role="listview" data-inset="true" data-filter="true" data-filter-placeholder="Find a contact..." data-filter-theme="d"></ul>
			</div><!--/demo-html -->
		
	</div>
	
	<br/>
	<br/>
	<br/>
	
	<div id="log"><h3>log<h3></div>
  <div class="content-padded">
    <a class="btn-primary call-to-action" ontouchend="submitContacts()">Submit with Selected Contacts</a>
  </div>
</body>
</html>

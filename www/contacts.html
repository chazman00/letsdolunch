<!DOCTYPE html>
<html>
<head>
  <meta charset="utf8">
  <title>Let's Do Lunch</title>

  <link rel="stylesheet" href="vendor/topcoat/css/topcoat-mobile-light.css" />
  <link rel="stylesheet" href="stylesheets/application.css" />

  <script src="javascripts/onerror.js"></script>
  <script src="javascripts/console.log.js"></script>
  <!--	
  <script src="http://code.jquery.com/mobile/1.3.1/jquery.mobile-1.3.1.min.js"></script>
  <script src="http://static.stackmob.com/js/stackmob-js-0.9.2-bundled-min.js"></script>
  -->
  <!-- cordova.js is served from localhost to ensure the correct version -->
  <script src="http://localhost/appgyver/cordova.js"></script>
  <script src="components/steroids-js/steroids.js"></script>

  <script src="javascripts/application.js"></script>

<script type="text/javascript" charset="utf-8">

    // Wait for Cordova to load
    //
    document.addEventListener("deviceready", onDeviceReady, false);

    // Cordova is ready
    //
    function onDeviceReady() {
        // find all contacts with 'Bob' in any name field
        var options = new ContactFindOptions();
        options.filter="Peter"; 
        var fields = ["displayName", "name"];
        navigator.contacts.find(fields, onSuccess, onError, options);
    }

    // onSuccess: Get a snapshot of the current contacts
    //
    function onSuccess(contacts) {
        for (var i=0; i<contacts.length; i++) {
			var div = document.createElement("div");
			div.setAttribute("id","contact"+i);
			var name = "";
			for (var j=0; j<contacts[i].name.length; j++) { name = name + contacts[i].name[j] + " "; }
            var txt = document.createTextNode("Display Name: " + contacts[i].displayName + ", Name: " + name);
			div.appendChild(txt);
			var body = document.getElementById("htmlBody");
			body.appendChild(div);
        }
    }

    // onError: Failed to get the contacts
    //
    function onError(contactError) {
        alert('onError!');
    }

    </script>
</head>
<body style="background:#000;" id="htmlBody">
  <div class="content-padded">
    <class="topcoat-button center full" ontouchend="steroids.modal.hide()">Hide currently open modal</a>
  </div>
</body>
</html>

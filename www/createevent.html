<!DOCTYPE html>
<html>
<head>
  <meta charset="utf8">
  <title>Create Event</title>

  <link rel="stylesheet" href="stylesheets/bootstrap.css" />
  <link rel="stylesheet" href="stylesheets/style.css" />

  <script src="javascripts/onerror.js"></script>
  <script src="javascripts/console.log.js"></script>

  <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script type="text/javascript" src="http://static.stackmob.com/js/stackmob-js-0.9.2-bundled-min.js"></script>
  <!-- cordova.js is served from localhost to ensure the correct version -->
  <script src="http://localhost/appgyver/cordova.js"></script>
  <script src="components/steroids-js/steroids.js"></script>

  <script src="javascripts/data.js"></script>
  <script src="javascripts/application.js"></script>
  
  
  <script type="text/javascript" >
  
	  // defining options
	var options = {
	  date: new Date(),
	  mode: 'date'
	};
	// calling show() function with options and a result handler
	//datePicker.show(options, function(date){
	//  alert("date result " + date);  
	//});

  
	steroids.view.navigationBar.show("Create An Event");
	var navBarVisible = true;
	
	var cancelButton = new steroids.buttons.NavigationBarButton();
	cancelButton.title = "Cancel";
	
	cancelButton.onTap = function() {
	  window.location = "index.html";
	};
	
	steroids.view.navigationBar.setButtons({
	  left: [cancelButton]
	});
	
	
		
	
	function receiveMessage(event)
	{
	  // Do we trust the sender of this message?  (might be
	  // different from what we originally opened, for example).
	  //if (event.origin !== "http://example.org")
	  //   return;

	  //var elem = document.querySelector();
	  var newDiv = $('<div>');
	  var html="";
	  var contacts = (event.data)? JSON.parse(event.data): new Array();
	  
	  $.each(contacts, function ( i,contact ) {	
			html += "<div id='selectedContact"+i+"'><img src='"+contact.id.photo+"'/><h2>" +contact.id.name + "</h2><p id='"+contact.id.phoneID+"'>"+ contact.id.email +"</p></div></br>";
		});
	  
	  
	  newDiv.append(html);
	  $("#selectedcontacts").append(newDiv);

	}
	window.addEventListener("message", receiveMessage, false);

  
  </script>
</head>
<body onload="ldlonload()">


    <div id="datetime">
		<div>Step 1: When Can you Meet?</div>
		<div id="date"><a class="btn" ontouchend="showModal('timerange.html')">Time</a></div>
		<div id="starttime"></div>
		<div id="endtime"></div>
	</div>

	
    <div id="attendees">
		<div>Step 2: Add Friends/Associates</div>
		<div id="searchcontacts"><a class="btn" ontouchend="showModal('contacts.html')">Add Contacts</a></div>
		<div id="selectedcontacts"></div>		
	</div>

	
    <div id="locations">
		<div>Step 3: Add Locations</div>
		<div id="searchcontacts"><a class="btn" ontouchend="showModal('locations.html')">Add Locations</a></div>
		<div id="selectedcontacts"></div>		
	</div>

	
    <div id="comment"><br/><br/></div>
	
	 <div id="datadiv" ></div>
	
    <div id="actions">
		<div id="schedule"><a class="btn call-to-action" ontouchend="scheduleEvent()">Schedule</a></div>		
	</div>


  </div>
</body>
</html>
